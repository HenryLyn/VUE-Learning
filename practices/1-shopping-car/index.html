<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>shopping car demo</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="app" v-cloak>
    <template v-if="list.length">
        <table>
            <thead>
                <tr>
                    <th>
                        <input id="check-all" type="checkbox" @click="checkAll($event)">
                        <span>{{ checkAllMsg }}</span>
                    </th>
                    <th>商品名称</th>
                    <th>商品单价</th>
                    <th>购买数量</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(item, index) in list">

                    <td>
                        <input type="checkbox" v-model="checked" :value="index">
                        {{ index + 1 }}
                    </td>
                    <td>{{ item.name }}</td>
                    <td>{{ item.price }}</td>
                    <td>
                        <button @click="handleReduce(index)"
                                :disabled="item.count === 1">-</button>
                        {{ item.count }}
                        <button @click="handleAdd(index)">+</button>
                    </td>
                    <td>
                        <button @click="handleRemove(index)">移除</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div>
            总价： ￥ {{ totalPrice }}
        </div>
    </template>
    <div v-else>
        购物车为空
    </div>
    <template v-if="list2.length">
        <table v-for="list in list2">
            <thead>
            <tr>
                <th>
                    <input type="checkbox" @click="checkAll($event)">
                </th>
                <th>商品名称</th>
                <th>商品单价</th>
                <th>购买数量</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr v-for="(item, index) in list">

                <td>
                    <input type="checkbox" :value="index">
                    {{ index + 1 }}
                </td>
                <td>{{ item.name }}</td>
                <td>{{ item.price }}</td>
                <td>
                    <button @click="handleReduce(index)"
                            :disabled="item.count === 1">-</button>
                    {{ item.count }}
                    <button @click="handleAdd(index)">+</button>
                </td>
                <td>
                    <button @click="handleRemove(index)">移除</button>
                </td>
            </tr>
            </tbody>
        </table>
    </template>
    <div v-else>
        购物车为空
    </div>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="index.js"></script>
</html>
